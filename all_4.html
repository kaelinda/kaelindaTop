<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>  
	  
  	kaelinda
  	
	</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="atom.xml" rel="alternate" title="kaelinda" type="application/atom+xml">

	<link href="asset/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="asset/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<script src="asset/javascripts/jquery.min.js"></script>
	

	<!--[if lt IE 9]><script src="asset/javascripts/html5.js"></script><![endif]-->
	<!-- <link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'> -->
	<style type="text/css">
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 300;
  src: local('Nunito-Light'), url(asset/font/1TiHc9yag0wq3lDO9cw0voX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 400;
  src: local('Nunito-Regular'), url(asset/font/6TbRXKWJjpj6V2v_WyRbMX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 700;
  src: local('Nunito-Bold'), url(asset/font/TttUCfJ272GBgSKaOaD7KoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
	</style>
	
	<style type="text/css">
	.container .left-col{ opacity: 1;}
	#pagenavi a{ font-size: 1.3em;}
	#pagenavi .next:before{ top: 3px;}
	#pagenavi .prev:before{ top: 3px;}
	.container .mid-col .mid-col-container #content .archives .title{ font-size: 1.5em;}
	.container .mid-col .mid-col-container #content article{ padding: 15px 0px;}
	#header .subtitle {
		line-height: 1.2em;
		padding-top: 8px;
	}
	article pre{ background: none; border: none; padding: 0;}
	article .entry-content{text-align: left;}
	.share-comment{ padding: 25px 0px; clear: both;}
	hr{ margin: 20px 0px;border: 0; border-top:solid 1px #ddd;}
	</style>
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner">
				 
				 	<div class="profilepic">
						<img src="https://ws1.sinaimg.cn/large/006tNc79ly1fmpk9088gsj30sg0sgn33.jpg" style="width:160px;">
					</div>
            	
					
					<h1><a href="index.html">kaelinda</a></h1>
					<p class="subtitle">倘若我心中的山水，你眼中能看到，我便一步一莲花祈祷</p>
					<nav id="main-nav">
						<ul class="main">
						
						  <li id=""><a target="_self" href="index.html">最近更新</a></li>
						
						  <li id=""><a target="_self" href="archives.html">归档目录</a></li>
						
						  <li id="ios.css"><a target="_self" href="ios.html">iOS</a></li>
						
						  <li id="swift.css"><a target="_self" href="swift.html">Swift</a></li>
						
						  <li id="reactnative.css"><a target="_self" href="reactnative.html">RN</a></li>
						
						  <li id="js.css"><a target="_self" href="js.html">JS</a></li>
						
						  <li id="shell.css"><a target="_self" href="shell.html">shell</a></li>
						
						  <li id="py.css"><a target="_self" href="py.html">Python</a></li>
						
						</ul>
					</nav>

					<nav id="sub-nav">
						<div class="social">










<a target="_blank" class="github" target="_blank" href="https://github.com/Kaelzzs" title="GitHub">GitHub</a>
<a target="_blank" class="email" href="mailto:zhouzuosong_kael@163.com" title="Email">Email</a>

								

								<a class="rss" href="atom.xml" title="RSS">RSS</a>
							
						</div>
					</nav>
				</header>				
			</div>
		</div>	
		<div class="mid-col">
			<div class="mid-col-container"> <div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-10-08T10:38:38+08:00" itemprop="datePublished">2021/10/8</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16336607185259.html" itemprop="url">
		iOS APP静态检测实践之 -- infer</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>[toc]</p>
<h1><a id="infer%E7%AE%80%E4%BB%8B" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>infer简介</h1>
<p><a href="https://www.jianshu.com/p/b6204ed62510">参考文章 ：https://www.jianshu.com/p/b6204ed62510</a></p>
<p>Facebook 的 Infer 是一个静态分析工具。Infer 可以分析 Objective-C， Java 或者 C 代码，报告潜在的问题。任何人都可以使用 Infer 检测应用，这可以将那些严重的 bug 扼杀在发布之前，同时防止应用崩溃和性能低下。Infer 可检查 Android 和 Java 代码中的 NullPointException 和 资源泄露。除了以上，Infer 还可发现 iOS 和 C 代码中的内存泄露。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1495953/1619595741169-9e1d1dd3-3477-4766-91a7-2ffbeee6242b.png?x-oss-process=image%2Fresize%2Cw_930" alt="Infer" /></p>
<h1><a id="%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装</h1>
<h2><a id="homebrew%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Homebrew安装</h2>
<h3><a id="%E5%AE%89%E8%A3%85homebrew" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装<code>Homebrew</code></h3>
<pre><code class="language-plain_text">/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre>
<h3><a id="%E4%BD%BF%E7%94%A8homebrew%E5%AE%89%E8%A3%85infer%E6%89%80%E9%9C%80%E7%8E%AF%E5%A2%83" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用Homebrew安装Infer所需环境</h3>
<pre><code class="language-plain_text"># 安装环境
brew install autoconf automake cmake opam pkg-config sqlite gmp mpfr
brew cask install java
</code></pre>
<h3><a id="%E4%BD%BF%E7%94%A8homebrew%E5%AE%89%E8%A3%85-infer" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用Homebrew安装<code>infer</code></h3>
<pre><code class="language-bash"># 安装Infer
brew install infer
</code></pre>
<h2><a id="%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>源码安装</h2>
<p>从<a href="https://link.jianshu.com/?t=https://github.com/facebook/infer/releases">infer release</a>页面获取最新版本infer-osx-vXX.tar.xz (以osx标识),然后执行下面命令来安装Infer.</p>
<h1><a id="%E4%BD%BF%E7%94%A8infer%E5%88%86%E6%9E%90%E4%BB%A3%E7%A0%81" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用Infer分析代码</h1>
<h2><a id="%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>准备工作</h2>
<ul>
<li>分析项目之前先把项目clean 一下</li>
<li>连续两次使用Infer分析项目时，也需要先clean下项目 或者在命令中使用 <code>--reactive</code>命令</li>
<li>分析单个文件的时候 不需要增量分析</li>
<li></li>
</ul>
<h2><a id="%E4%BD%BF%E7%94%A8infer%E6%A3%80%E6%B5%8B%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用infer 检测单个文件</h2>
<ul>
<li>cd 指定文件<code>InferTest.m</code> 所在的目录</li>
<li><code>infer -- clang -c InferTest.m</code></li>
<li><code>No issues found</code>   代表没有问题</li>
</ul>
<h2><a id="%E4%BD%BF%E7%94%A8infer%E6%A3%80%E6%B5%8B%E6%95%B4%E4%B8%AA%E9%A1%B9%E7%9B%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用infer检测整个项目</h2>
<h3><a id="infer%E5%88%86%E6%9E%90%E6%99%AE%E9%80%9A%E9%A1%B9%E7%9B%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Infer分析普通项目</h3>
<pre><code class="language-plain_text">infer -- xcodebuild -project App.xcodeproj -target App -configuration Debug -sdk iphonesimulator
</code></pre>
<h3><a id="infer%E5%88%86%E6%9E%90%E5%B8%A6workspace%EF%BC%88cocoapods%EF%BC%89%E7%9A%84%E9%A1%B9%E7%9B%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Infer分析带Workspace（Cocoapods）的项目</h3>
<pre><code class="language-plain_text">infer --  xcodebuild -workspace ./App.xcworkspace -configuration Debug -scheme KooApp
</code></pre>
<h4><a id="%E9%81%87%E5%88%B0%E8%AD%A6%E5%91%8A%E9%94%99%E8%AF%AF%E4%B8%8D%E4%B8%AD%E6%96%AD%E5%88%86%E6%9E%90keep-going" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>遇到警告错误不中断分析 <code>--keep-going</code></h4>
<pre><code class="language-plain_text">infer --keep-going -- xcodebuild -project App.xcodeproj -target App -configuration Debug -sdk iphonesimulator
</code></pre>
<pre><code class="language-bash">#!/bin/bash

kTargetName=&quot;LXCategory&quot;
kProjectName=&quot;LXCategory.xcodeproj&quot;
kConfigurationType=&quot;Debug&quot;
kSDKName=&quot;iphonesimulator&quot;

infer -- xcodebuild clean 

INFER_ARGS=&quot;--skip-analysis-in-path^[\&quot;Third\&quot;]&quot; infer -- xcodebuild -target $kTargetName -configuration $kConfigurationType -sdk $kSDKName

</code></pre>
<h4><a id="%E5%BF%BD%E7%95%A5%E5%88%86%E6%9E%90%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>忽略分析指定文件</h4>
<ul>
<li>命令模式</li>
</ul>
<pre><code class="language-plain_text">INFER_ARGS=&quot;--skip-analysis-in-path^[\&quot;Third\&quot;]&quot; infer -- xcodebuild -target $kTargetName -configuration $kConfigurationType -sdk $kSDKName
</code></pre>
<ul>
<li>配置文件模式</li>
</ul>
<p>在项目目录下增加这样一个.inferconfig的文件, 内容如图, 可以过滤掉Pods文件夹下的第三方库, skip-analysis-in-path是一个数组, 想要过滤其他文件, 只需要增加路径即可。</p>
<p>文件内容：</p>
<pre><code class="language-json">{
  &quot;skip-analysis-in-path&quot;:[
    &quot;test&quot;,
    &quot;Third&quot;
  ]
}
</code></pre>
<h4><a id="%E6%8C%87%E5%AE%9A%E5%AF%BC%E5%87%BA%E5%88%86%E6%9E%90%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>指定导出分析文件路径</h4>
<p>infer 后面,<code>-- xcodebuild</code> 前面。 <code>-o OuptputPath</code> 能指定导出文件的路径。</p>
<pre><code class="language-plain_text">infer --keep-going -o $kOuptputPath -- xcodebuild -project App.xcodeproj -target App -configuration Debug -sdk iphonesimulator

</code></pre>
<h4><a id="%E5%AF%BC%E5%87%BAhtml%E6%96%87%E4%BB%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>导出html文件</h4>
<p>这个需要在编译 或者 分析完之后执行此命令（指定导出分析文件路径后，需要在 修改的路径下使用才行。）</p>
<pre><code class="language-plain_text">infer-explore --html
</code></pre>
<h4><a id="%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90%EF%BC%88%E4%B8%8D%E7%BC%96%E8%AF%91%EF%BC%89" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>静态分析（不编译）</h4>
<pre><code class="language-plain_text">infer analyze
</code></pre>
<h3><a id="%E7%BC%96%E8%AF%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>编译遇到的问题</h3>
<ul>
<li>framework问题
<img src="https://img-blog.csdnimg.cn/20201217200220312.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2d1b3lvbmdtaW5nOTI1,size_16,color_FFFFFF,t_70" alt="framework 编译问题设置" /></li>
</ul>
<h2><a id="oclint" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>OCLint</h2>
<p><a href="https://www.jianshu.com/p/6555048d6a17">参考文章：https://www.jianshu.com/p/6555048d6a17</a></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-10-08T10:37:57+08:00" itemprop="datePublished">2021/10/8</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16336606772972.html" itemprop="url">
		iOS APP静态检测实践之 -- OCLint</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>[toc]</p>
<p><span id = "jumpID">跳转位置jumpID</span></p>
<p><a href="OCLint%E6%8C%87%E4%BB%A4%E9%9B%86%E6%96%87%E6%A1%A3#jumpID">点我跳转</a></p>
<blockquote>
<p>参考文章</p>
</blockquote>
<p><a href="https://juejin.cn/post/6844904046281621512">iOS使用OCLint做静态代码分析</a>
<a href="https://juejin.cn/post/6844903853775650830#heading-9">OCLint 实现 Code Review - 给你的代码提提质量</a></p>
<h2><a id="%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装</h2>
<ul>
<li>安装xcpretty</li>
</ul>
<pre><code class="language-plain_text">sudo gem install xcpretty
</code></pre>
<ul>
<li>
<p>安装OCLint</p>
<pre><code class="language-plain_text">brew tap oclint/formulae

brew install oclint
</code></pre>
</li>
</ul>
<h2><a id="%E5%8F%82%E6%95%B0%E4%BB%8B%E7%BB%8D" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>参数介绍</h2>
<ul>
<li>
<p>-R &lt;路径&gt; ： 检测所用的规则的路径，默认路径$(/path/to/bin/oclint)/../lib/oclint/rules</p>
</li>
<li>
<p>-disable-rule &lt;规则名&gt;： 让相对应的规则失效（OCLint 规则列表）。</p>
</li>
<li>
<p>-rc &lt;参数&gt;=&lt;值&gt; ：修改阈值</p>
</li>
<li>
<p>-report-type &lt;报告类型&gt;，有&quot;text&quot;、“html”、“json”、“pmd”、“xcode”几个类型</p>
</li>
<li>
<p>-o &lt;路径&gt; 报告生成路径。</p>
</li>
</ul>
<h3><a id="oclint-json-compilation-database%E6%8C%87%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>oclint-json-compilation-database 指令</h3>
<ul>
<li>-i ：包含进某些文件</li>
<li>-e ： 过滤掉某些文件</li>
</ul>
<pre><code class="language-plain_text"># 排除Pods 里的文件
oclint-json-compilation-database -e Pods 
# 包含进Pods里的文件
oclint-json-compilation-database -i Pods
</code></pre>
<p><a href="https://oclint-docs.readthedocs.io/en/v0.6/usage/oclint-json-compilation-database.html">OCLint 官方文档</a>
<a href="https://www.dazhuanlan.com/2020/03/03/5e5d602b31b74/">参考文章1</a></p>
<h3><a id="%E6%A3%80%E6%9F%A5%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>检查单个文件</h3>
<pre><code class="language-plain_text">oclint [options] &lt;source&gt; -- [compiler flags]
oclint sample.cpp -- -c
</code></pre>
<p>想要改变oclint 的行为，options参数 需要 在文件资源前面添加，比如 导出报告：<code>-html -o report.html</code>
想要改变 编译行为，需要在 -- 后面添加参数</p>
<pre><code class="language-plain_text">oclint -html -o report.html sample.cpp -- -D__STDC_CONSTANT_MACROS -D__STDC_LIMIT_MACROS -I/usr/include -I/usr/local/include -c
</code></pre>
<pre><code class="language-bash">kIsysroot=&quot;/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS14.4.sdk&quot;
kFilePath=&quot;LXCategory/AppDelegate.m&quot;
# 编译文件
clang -x objective-c -arch armv7 -std=gnu99 -fobjc-arc -O0 -isysroot $kIsysroot -g -I./Pods/Headers -c $kFilePath
# 分析文件
oclint -report-type=html -o=report.html $kFilePath -- -x objective-c -arch armv7 -std=gnu99 -fobjc-arc -O0  -isysroot $kIsysroot -g -I ./Pods/Headers -c
</code></pre>
<h3><a id="%E6%A3%80%E6%9F%A5%E6%95%B4%E4%B8%AAios%E9%A1%B9%E7%9B%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>检查整个iOS项目</h3>
<h4><a id="%E7%BC%96%E8%AF%91%E5%AF%BC%E5%87%BA" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>编译导出</h4>
<ul>
<li>编译之前先 clean一下，然后再build</li>
<li>导出日志文件 <code>xcodebuild.log</code></li>
<li>xcpretty导出json文件</li>
</ul>
<pre><code class="language-plain_text">xcodebuild clean build -project $kProjectName -target $kTargetName -configuration $kConfigurationType -sdk $kSDKName | tee xcodebuild.log | xcpretty --report json-compilation-database 
</code></pre>
<blockquote>
<p>workspace项目 可以参考xcodebuild的使用方法:
<code>xcodebuild  archive  -workspace &quot;$workspaceName&quot; -scheme &quot;$scheme&quot; -configuration  &quot;$kConfiguration&quot;</code></p>
</blockquote>
<h4><a id="%E5%88%86%E6%9E%90%E9%A1%B9%E7%9B%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>分析项目</h4>
<ul>
<li>命令添加分析规则</li>
</ul>
<pre><code class="language-plain_text">oclint-json-compilation-database -e LXCategory/Third -e  LXCategory/test -- \
-report-type html -o ./AppOutput/oclint-out/oclint_report.html \
-max-priority-1=100000 \
-max-priority-2=100000 -max-priority-3=100000 \
-disable-rule=InvertedLogic \
-disable-rule=CollapsibleIfStatements \
-disable-rule=UnusedMethodParameter \
-disable-rule=LongVariableName \
-disable-rule=ShortVariableName \
-disable-rule=UselessParentheses \
-disable-rule=IvarAssignmentOutsideAccessorsOrInit \
</code></pre>
<ul>
<li>配置文件添加分析规则</li>
</ul>
<blockquote>
<ol>
<li>我们需要在项目根目录下创建一个名为<code>.oclint</code>的配置文件</li>
<li>在配置文件中添加规则</li>
<li>添加忽略文件等...</li>
</ol>
</blockquote>
<p><strong>命令如下：</strong></p>
<pre><code class="language-plain_text">oclint-json-compilation-database -e LXCategory/Third -e LXCategory/test
</code></pre>
<p><strong>.oclint配置文件内容如下：</strong></p>
<pre><code class="language-plain_text">rule-configurations:
  - key: CYCLOMATIC_COMPLEXITY # Cyclomatic complexity of a method 10
    value: 30
  - key: LONG_LINE
    value: 110
  - key: NCSS_METHOD # Number of non-commenting source statements of a method 30
    value: 50
  - key: LONG_VARIABLE_NAME
    value: 40
  - key: NESTED_BLOCK_DEPTH
    value: 6
  - key: MINIMUM_CASES_IN_SWITCH
    value: 2
  - key: SHORT_VARIABLE_NAME
    value: 1
  - key: TOO_MANY_METHODS
    value: 50
  - key: LONG_METHOD
    value: 100
disable-rules:
  - RedundantLocalVariable 
  - SHORT_VARIABLE_NAME 
  - LongVariableName
  - UnnecessaryElseStatement 
  - RedundantNilCheck 
  - RedundantIfStatement
  - InvertedLogic
  - AssignIvarOutsideAccessors
  - UseObjectSubscripting
  - BitwiseOperatorInConditional
  - PreferEarlyExit
  - UnusedMethodParameter

max-priority-1: 1000
max-priority-2: 1000
max-priority-3: 1000
enable-clang-static-analyzer: false

output: AppOutput/oclint-out/oclint_report.html
report-type: html
</code></pre>
<ul>
<li>个人Demo项目脚本如下</li>
</ul>
<pre><code class="language-bash">kTargetName=&quot;LXCategory&quot;
kProjectName=&quot;LXCategory.xcodeproj&quot;
kConfigurationType=&quot;Debug&quot;
kSDKName=&quot;iphonesimulator&quot;
kOuptputPath=&quot;AppOutput/oclint-out&quot;

# html 报告导出路径
kHTML_Report_Name=&quot;oclint_report.html&quot;
# 分析结果json文件名
kJSON_Data_Name=&quot;compile_commands.json&quot;

# 清理、编译 -- 格式化导出json 1------------------
xcodebuild clean build -project $kProjectName -target $kTargetName -configuration $kConfigurationType -sdk $kSDKName | tee xcodebuild.log | xcpretty --report json-compilation-database 

echo &quot;准备复制json文件 到目录:${kOuptputPath}...&quot;
# 必须要复制到项目根目录下 才能分析成功
cp &quot;build/reports/compilation_db.json&quot; $kJSON_Data_Name
cp &quot;build/reports/compilation_db.json&quot; &quot;${kOuptputPath}/${kJSON_Data_Name}&quot;

echo &quot;复制完毕...&quot;

echo &quot;准备进入导出文件目录: AppOutput/oclint-out  ...&quot;

# 分析项目 2--------------------------------
# 方案一：
# 如果过不在命令里配置规则，就默认读取规则里的规则 配置文件里无法配置忽略文件😂
# oclint-json-compilation-database -e LXCategory/Third -e LXCategory/test

# 方案二：
# 命令里设置参数 读取命令里的规则
oclint-json-compilation-database -e LXCategory/Third -e  LXCategory/test -- \
-report-type html -o AppOutput/oclint-out/oclint_report.html \
-max-priority-1=100000 \
-max-priority-2=100000 -max-priority-3=100000 \
-disable-rule=InvertedLogic \
-disable-rule=CollapsibleIfStatements \
-disable-rule=UnusedMethodParameter \
-disable-rule=LongVariableName \
-disable-rule=ShortVariableName \
-disable-rule=UselessParentheses \
-disable-rule=IvarAssignmentOutsideAccessorsOrInit \

# 处理报告文件 3--------------------------
echo &quot;准备打开 报告文件:😁&quot;
pwd
sleep 2.0
# 打开 HTML 格式的报告文件
open &quot;${kOuptputPath}/${kHTML_Report_Name}&quot;
# 删除项目根目录下的json分析文件
rm $kJSON_Data_Name
</code></pre>
<h2><a id="%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意事项</h2>
<ul>
<li>忽略文件</li>
</ul>
<p>忽略文件配置  <code>-e Pods -e Pods</code>,这个只能在命令中设置，配置文件中配置不了。</p>
<ul>
<li>检查文件</li>
</ul>
<p>忽略文件配置  <code>-i Pods -i Pods</code>，这个只能在命令中设置，配置文件中配置不了。</p>
<ul>
<li>配置文件</li>
</ul>
<p>配置文件的设置，会和命令设置 有冲突，二者选其一。</p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-10-08T10:37:29+08:00" itemprop="datePublished">2021/10/8</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16336606490623.html" itemprop="url">
		OCLint指令集文档</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>[toc]</p>
<p><span id = "jump">跳转位置</span></p>
<h2><a id="oclint%E6%8C%87%E4%BB%A4%E9%9B%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>oclint指令集</h2>
<p>基本使用：<code>oclint [options] &lt;source0&gt; [... &lt;sourceN&gt;]</code></p>
<pre><code class="language-plain_text">oclint [oclint options] &lt;source0&gt; [... &lt;sourceN&gt;] -- [compiler options]
</code></pre>
<p>想要改变oclint 的行为，options参数 需要 在文件资源前面添加，比如 导出报告：<code>-html -o report.html</code>
想要改变 编译行为，需要在 -- 后面添加参数.</p>
<p>以我的项目为例：</p>
<pre><code class="language-bash">kIsysroot=&quot;/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS14.4.sdk&quot;
kFilePath=&quot;LXCategory/AppDelegate.m&quot;
# 编译文件
clang -x objective-c -arch armv7 -std=gnu99 -fobjc-arc -O0 -isysroot $kIsysroot -g -I./Pods/Headers -c $kFilePath
# 分析文件
oclint -report-type=html -o=report.html $kFilePath -- -x objective-c -arch armv7 -std=gnu99 -fobjc-arc -O0  -isysroot $kIsysroot -g -I ./Pods/Headers -c
</code></pre>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1495953/1619527468738-5d8a1a3d-b620-4813-ab9c-6d017d67b338.png?x-oss-process=image%2Fresize%2Cw_2062" alt="编译报告" /></p>
<blockquote>
<p>参数说明:</p>
</blockquote>
<table>
<thead>
<tr>
<th>参数</th>
<th>使用说明</th>
<th style="text-align: left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>-R=<directory></td>
<td>添加指定的规则加载路径</td>
<td style="text-align: left">默认是项目根目录</td>
</tr>
<tr>
<td>-fatal-assembler-warnings</td>
<td>将警告视为错误</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-help</td>
<td></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-max-priority-1=<threshold></td>
<td>第一优先级错误最大个数</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-max-priority-2=<threshold></td>
<td></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-max-priority-3=<threshold></td>
<td></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-o=<path></td>
<td>报告文件导出路径</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-p=<string></td>
<td>build路径</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-rc=<paramemter>=<value></td>
<td>覆盖默认的行为规则</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-stats</td>
<td>启用程序的统计输出</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-text</td>
<td>纯文本报告类型输出</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-html</td>
<td>HTML格式类型报告输出</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-version</td>
<td>oclint版本信息</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>-p <build-path></td>
<td>用于读取编译命令数据库</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td><source0></td>
<td>待分析的资源文件</td>
<td style="text-align: left"></td>
</tr>
</tbody>
</table>
<h3><a id="%E8%A7%84%E5%88%99%E5%8A%A0%E8%BD%BD%E9%80%89%E9%A1%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>规则加载选项</h3>
<ul>
<li>-R <directory> :通过-R参数可以修改规则加载路径。可以从多个路径中加载多个规则。默认从 <code>$(/path/to/bin/oclint)/../lib/oclint/rules</code> 加载规则。</li>
<li>-rc <paramemter>=<value> ： 某些规则具有确定是否发出违规行为的阈值。这些阈值可以通过带有 <code>-rc key=value</code> 的兼职对进行更改。</li>
</ul>
<h3><a id="%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>编译选项</h3>
<p>例如你平时编译一个文件：</p>
<pre><code class="language-plain_text">clang -x objective-c -arch armv7 -std=gnu99 -fobjc-arc -O0 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS14.4.sdk -g -I./Pods/Headers -c RPActivityIndicatorManager.m
</code></pre>
<p>当你分析这个代码时的OCLint命令将是：</p>
<pre><code class="language-plain_text">oclint [oclint options] RPActivityIndicatorManager.m -- -x objective-c -arch armv7 -std=gnu99 -fobjc-arc -O0 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS14.4.sdk -g -I./Pods/Headers -c
</code></pre>
<ul>
<li>-p : 重定向build路径。这个路径内需要包含名为compile_commands.json的文件。如果未指定构建路径，则将尝试通过第一个输入文件的所有父路径搜索compile_commands.json。</li>
</ul>
<h3><a id="%E6%A3%80%E6%9F%A5%E5%88%86%E6%9E%90%E9%80%89%E9%A1%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>检查分析选项</h3>
<h3><a id="%E5%AF%BC%E5%87%BA%E6%8A%A5%E5%91%8A%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>导出报告相关参数</h3>
<ul>
<li>
<p>-o <path> ： 指定导出文件的路径和文件名</p>
</li>
<li>
<p>-text : 导出纯文本报告</p>
</li>
<li>
<p>-html : 导出HTML 格式报告</p>
<p><code>-report-type=html -o=./oclint_report.html</code></p>
</li>
</ul>
<h3><a id="%E9%80%80%E5%87%BA%E7%8A%B6%E6%80%81%E9%80%89%E9%A1%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>退出状态选项</h3>
<ul>
<li><code>-max-priority-1 &lt;threshold&gt;</code>
一级违例最大数量</li>
<li><code>-max-priority-2 &lt;threshold&gt;</code>
二级违例最大数量</li>
<li><code>-max-priority-3 &lt;threshold&gt;</code>
三级违例最大数量</li>
</ul>
<p>OCLint返回以下四个退出代码之一:</p>
<ol>
<li>
<ul>
<li>SUCCESS</li>
</ul>
</li>
<li>
<ul>
<li>RULE_NOT_FOUND</li>
</ul>
</li>
<li>
<ul>
<li>ERROR_WHILE_PROCESSING</li>
</ul>
</li>
<li>
<ul>
<li>VIOLATIONS_EXCEED_THRESHOLD</li>
</ul>
</li>
</ol>
<h2><a id="oclint-json-compilation-database%E6%8C%87%E4%BB%A4%E9%9B%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>oclint-json-compilation-database 指令集</h2>
<pre><code class="language-bash"># 使用方法
oclint-json-compilation-database [&lt;filter0&gt; ... &lt;filterN&gt;] -- [oclint options]

# 使用实例
oclint-json-compilation-database -e LXCategory/Third -i  LXCategory/test -- \
-report-type html -o ./AppOutput/oclint-out/oclint_report.html \
-max-priority-1=100000 \
-max-priority-2=100000 -max-priority-3=100000 \
-disable-rule=InvertedLogic \
-disable-rule=CollapsibleIfStatements \
-disable-rule=UnusedMethodParameter \
-disable-rule=LongVariableName \
-disable-rule=ShortVariableName \
-disable-rule=UselessParentheses \
-disable-rule=IvarAssignmentOutsideAccessorsOrInit \
</code></pre>
<ul>
<li>-i INCLUDES, -include INCLUDES, –include INCLUDES
Extract files matching pattern from compile_commands.json or prior matching result</li>
<li>-e EXCLUDES, -exclude EXCLUDES, –exclude EXCLUDES
Remove files matching pattern from compile_commands.json or prior matching result</li>
<li>-v show invocation command with arguments</li>
</ul>
<h2><a id="oclint-xcodebuild%E6%8C%87%E4%BB%A4%E9%9B%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>oclint-xcodebuild 指令集</h2>
<blockquote>
<p>该指令集已经不维护 使用xcpretty代替</p>
</blockquote>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-10-08T10:36:53+08:00" itemprop="datePublished">2021/10/8</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16336606132150.html" itemprop="url">
		ios14 Widget桌面小组件踩过的坑</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<h1><a id="%E6%89%BE%E4%B8%8D%E5%88%B0%E7%B1%BBconfigurationintent" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>找不到类 ConfigurationIntent</h1>
<p>可能是你的项目默认带前缀，比如前缀是<code>KL</code>,那在创建<code>ConfigrationIntent</code>的时候也默认给带了前缀<code>KLConfigurationIntent</code></p>
<h1><a id="%E7%BC%96%E8%AF%91%E6%8A%A5%E9%94%99configurationintentresponse%E7%9B%B8%E5%85%B3%E7%9A%84%E9%94%99%E8%AF%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>编译报错 ConfigurationIntentResponse 相关的错误</h1>
<p><code>Showing All Messages : _OBJC_METACLASS_$_ConfigurationIntentResponse in ConfigurationIntent.o</code></p>
<p>View --&gt; Do</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1grdgurg0txj317c0eejub.jpg" alt="修改位置" /></p>
<h1><a id="%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB%E6%8A%A5%E9%94%99" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>数据共享报错</h1>
<p><code>[User Defaults] Couldn't read values in CFPrefsPlistSource *******</code></p>
<p>主工程的Group  共享  和 子Target读取的Group不是同一个。
但是我的报错却是因为 主工程有四个环境，只在Release环境下支持了共享 Debug模式下没支持，添加以下即可 「+capability」方式添加Group。</p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-10-08T10:18:49+08:00" itemprop="datePublished">2021/10/8</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='app.html'>MacAPP</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16336595298050.html" itemprop="url">
		Alfred 修改内置Terminal为Iterm2</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p><img src="https://b3logfile.com/file/2019/09/image-cb8282c6.png?imageView2/2/interlace/1/format/webp" alt="" /></p>
<pre><code class="language-plain_text">
-- This is v0.6 of the custom script for AlfredApp for iTerm 2.9+
-- Please see https://github.com/stuartcryan/custom-iterm-applescripts-for-alfred/
-- for the latest changes.

-- Please note, if you store the iTerm binary in any other location than the Applications Folder
-- please ensure you update the two locations below (in the format of : rather than / for folder dividers)
-- this gets around issues with AppleScript not handling things well if you have two iTerm binaries on your system... which can happen :D

on alfred_script(q)
	if application &quot;iTerm2&quot; is running or application &quot;iTerm&quot; is running then
		run script &quot;
			on run {q}
				tell application \&quot;:Applications:iTerm.app\&quot;
					activate
					try
						select first window
						set onlywindow to true
					on error
						create window with default profile
						select first window
						set onlywindow to true
					end try
					tell the first window
						if onlywindow is false then
							create tab with default profile
						end if
						tell current session to write text q
					end tell
				end tell
			end run
		&quot; with parameters {q}
	else
		run script &quot;
			on run {q}
				tell application \&quot;:Applications:iTerm.app\&quot;
					activate
					try
						select first window
					on error
						create window with default profile
						select first window
					end try
					tell the first window
						tell current session to write text q
					end tell
				end tell
			end run
		&quot; with parameters {q}
	end if
end alfred_script
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-09-25T22:46:21+08:00" itemprop="datePublished">2021/9/25</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='py.html'>Python</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16325811812741.html" itemprop="url">
		Python环境安装</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<h2><a id="pip%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>pip安装</h2>
<pre><code class="language-shell">sudo python -m ensurepip --upgrade
</code></pre>
<h2><a id="mac%E4%B8%8B%E5%A4%9A%E4%B8%AApython%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mac下多个Python版本管理</h2>
<p><a href="https://www.jianshu.com/p/3261976c10c2">参考文章</a></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-09-22T10:18:10+08:00" itemprop="datePublished">2021/9/22</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16322770901249.html" itemprop="url">
		数组排序之 NSOrderedAscending 和 NSOrderedDescending</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			

			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-09-18T18:27:07+08:00" itemprop="datePublished">2021/9/18</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16319608270660.html" itemprop="url">
		NSScanner 详解</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>废话少说，先上代码：</p>
<pre><code class="language-plain_text">/// 是否是纯数字
- (BOOL)isPureInt:(NSString *)string{
    NSScanner* scan = [NSScanner scannerWithString:string];
    
    int val;
    
    return [scan scanInt:&amp;val] &amp;&amp; [scan isAtEnd];
}
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2021-09-18T18:14:47+08:00" itemprop="datePublished">2021/9/18</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="16319600874800.html" itemprop="url">
		NSURL参数拼接之NSURLComponents</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>废话少说，先上代码：</p>
<pre><code class="language-objc">NSDictionary *queryDic = @{@&quot;key1&quot;:@&quot;value1&quot;,@&quot;key2&quot;:@&quot;value2&quot;,@&quot;key3&quot;:@&quot;value3&quot;};
    NSMutableArray *queryItems = [NSMutableArray array];
    
[queryDic enumerateKeysAndObjectsUsingBlock:^(id  _Nonnull key, id  _Nonnull obj, BOOL * _Nonnull stop) {
    NSURLQueryItem *item = [[NSURLQueryItem alloc] initWithName:key value:obj];
    [queryItems addObject:item];
}];
    
NSURLComponents *components = [NSURLComponents componentsWithString:@&quot;http://www.baidu.com&quot;];
components.queryItems = queryItems;
    
NSLog(@&quot;absoluteString:%@\nabsoluteURL:%@\nURL:%@&quot;,components.URL.absoluteString,components.URL.absoluteURL,components.URL);
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2019-01-30T15:59:38+08:00" itemprop="datePublished">2019/1/30</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15488351784332.html" itemprop="url">
		Objective-C中的字符串类型枚举 探索</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>实际开发中的iOSer会发现，有些情况我们需要字符串类型的枚举值。但是OC偏偏没有提供这种类型。Swift语言或者Java这些语言都有，于是我就有些不甘心了。经过一番探索，尝试了以下几种情况。</p>


			
			
		</div>

	</article>
  

</div>
<nav id="pagenavi">
	 <a class="prev" href="all_3.html">Prev</a>  
	 <a class="next" href="all_5.html">Next</a> 
	<div class="center"><a href="archives.html">Blog Archives</a></div>

</nav>

</div>



        </div>
			<footer id="footer" class="inner">Copyright &copy; 2014
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; 
Theme by <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
      </footer>
		</div>
	</div>



  














<style type="text/css">
figure{margin: 1em 0;padding: 0;}
  figcaption{text-align:center;}

/* PrismJS 1.14.0
https://prismjs.com/download.html#themes=prism-coy&languages=markup+css+clike+javascript */
/**
 * prism.js Coy theme for JavaScript, CoffeeScript, CSS and HTML
 * Based on https://github.com/tshedor/workshop-wp-theme (Example: http://workshop.kansan.com/category/sessions/basics or http://workshop.timshedor.com/category/sessions/basics);
 * @author Tim  Shedor
 */

code[class*="language-"],
pre[class*="language-"] {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  position: relative;
  margin: .5em 0;
  overflow: visible;
  padding: 0;
}
pre[class*="language-"]>code {
  position: relative;
  border-left: 10px solid #358ccb;
  box-shadow: -1px 0px 0px 0px #358ccb, 0px 0px 0px 1px #dfdfdf;
  background-color: #fdfdfd;
  background-image: linear-gradient(transparent 50%, rgba(69, 142, 209, 0.04) 50%);
  background-size: 3em 3em;
  background-origin: content-box;
  background-attachment: local;
}

code[class*="language"] {
  max-height: inherit;
  height: inherit;
  padding: 0 1em;
  display: block;
  overflow: auto;
}

/* Margin bottom to accomodate shadow */
:not(pre) > code[class*="language-"],
pre[class*="language-"] {
  background-color: #fdfdfd;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  margin-bottom: 1em;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  position: relative;
  padding: .2em;
  border-radius: 0.3em;
  color: #c92c2c;
  border: 1px solid rgba(0, 0, 0, 0.1);
  display: inline;
  white-space: normal;
}

pre[class*="language-"]:before,
pre[class*="language-"]:after {
  content: '';
  z-index: -2;
  display: block;
  position: absolute;
  bottom: 0.75em;
  left: 0.18em;
  width: 40%;
  height: 20%;
  max-height: 13em;
  box-shadow: 0px 13px 8px #979797;
  -webkit-transform: rotate(-2deg);
  -moz-transform: rotate(-2deg);
  -ms-transform: rotate(-2deg);
  -o-transform: rotate(-2deg);
  transform: rotate(-2deg);
}

:not(pre) > code[class*="language-"]:after,
pre[class*="language-"]:after {
  right: 0.75em;
  left: auto;
  -webkit-transform: rotate(2deg);
  -moz-transform: rotate(2deg);
  -ms-transform: rotate(2deg);
  -o-transform: rotate(2deg);
  transform: rotate(2deg);
}

.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #7D8B99;
}

.token.punctuation {
  color: #5F6364;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.function-name,
.token.constant,
.token.symbol,
.token.deleted {
  color: #c92c2c;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.function,
.token.builtin,
.token.inserted {
  color: #2f9c0a;
}

.token.operator,
.token.entity,
.token.url,
.token.variable {
  color: #a67f59;
  background: rgba(255, 255, 255, 0.5);
}

.token.atrule,
.token.attr-value,
.token.keyword,
.token.class-name {
  color: #1990b8;
}

.token.regex,
.token.important {
  color: #e90;
}

.language-css .token.string,
.style .token.string {
  color: #a67f59;
  background: rgba(255, 255, 255, 0.5);
}

.token.important {
  font-weight: normal;
}

.token.bold {
  font-weight: bold;
}
.token.italic {
  font-style: italic;
}

.token.entity {
  cursor: help;
}

.namespace {
  opacity: .7;
}

@media screen and (max-width: 767px) {
  pre[class*="language-"]:before,
  pre[class*="language-"]:after {
    bottom: 14px;
    box-shadow: none;
  }

}

/* Plugin styles */
.token.tab:not(:empty):before,
.token.cr:before,
.token.lf:before {
  color: #e0d7d1;
}

/* Plugin styles: Line Numbers */
pre[class*="language-"].line-numbers.line-numbers {
  padding-left: 0;
}

pre[class*="language-"].line-numbers.line-numbers code {
  padding-left: 3.8em;
}

pre[class*="language-"].line-numbers.line-numbers .line-numbers-rows {
  left: 0;
}

/* Plugin styles: Line Highlight */
pre[class*="language-"][data-line] {
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 0;
}
pre[data-line] code {
  position: relative;
  padding-left: 4em;
}
pre .line-highlight {
  margin-top: 0;
}

pre[class*="language-"].line-numbers {
    position: relative;
    padding-left: 3.8em;
    counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
    position: relative;
    white-space: inherit;
}

.line-numbers .line-numbers-rows {
    position: absolute;
    pointer-events: none;
    top: 0;
    font-size: 100%;
    left: -3.8em;
    width: 3em; /* works for line-numbers below 1000 lines */
    letter-spacing: -1px;
    border-right: 1px solid #999;

    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

}

    .line-numbers-rows > span {
        pointer-events: none;
        display: block;
        counter-increment: linenumber;
    }

        .line-numbers-rows > span:before {
            content: counter(linenumber);
            color: #999;
            display: block;
            padding-right: 0.8em;
            text-align: right;
        }

</style>
  
    


</body>
</html>